Version 4
SHEET 1 6276 1392
WIRE 2512 416 2416 416
WIRE 2688 416 2592 416
WIRE 3600 416 3600 352
WIRE 3728 416 3600 416
WIRE 4624 416 4560 416
WIRE 4768 416 4704 416
WIRE 5632 416 5568 416
WIRE 5776 416 5712 416
WIRE -2112 448 -2112 368
WIRE -1920 448 -1920 368
WIRE 3600 448 3600 416
WIRE 3728 496 3728 416
WIRE 1680 512 1552 512
WIRE 1808 512 1680 512
WIRE 2112 512 1808 512
WIRE 2416 528 2416 416
WIRE 2528 528 2416 528
WIRE 2688 528 2688 416
WIRE 2688 528 2592 528
WIRE -2016 544 -2016 464
WIRE 528 544 416 544
WIRE 624 544 528 544
WIRE 4656 560 4656 544
WIRE 5664 560 5664 544
WIRE 1552 576 1552 512
WIRE 1680 576 1680 512
WIRE 1808 576 1808 512
WIRE 5056 576 5056 560
WIRE -2112 592 -2112 528
WIRE -1920 592 -1920 528
WIRE 4432 592 4368 592
WIRE 4560 592 4560 416
WIRE 4560 592 4512 592
WIRE 4608 592 4560 592
WIRE 5440 592 5376 592
WIRE 5568 592 5568 416
WIRE 5568 592 5520 592
WIRE 5616 592 5568 592
WIRE 4768 608 4768 416
WIRE 4768 608 4720 608
WIRE 5008 608 4768 608
WIRE 5776 608 5776 416
WIRE 5776 608 5728 608
WIRE 4608 624 4560 624
WIRE 5168 624 5120 624
WIRE 5616 624 5568 624
WIRE 3600 640 3600 608
WIRE 3728 640 3728 560
WIRE 3728 640 3600 640
WIRE 5008 640 4976 640
WIRE 512 672 512 656
WIRE 4656 672 4656 656
WIRE 5664 672 5664 656
WIRE -2016 688 -2016 624
WIRE 2560 688 2560 672
WIRE 5056 688 5056 672
WIRE 416 704 416 544
WIRE 464 704 416 704
WIRE 1552 704 1552 656
WIRE 1680 704 1680 640
WIRE 1680 704 1552 704
WIRE 1808 704 1808 656
WIRE 1808 704 1680 704
WIRE 2112 704 2112 512
WIRE 2416 704 2416 528
WIRE 2416 704 2112 704
WIRE 2512 704 2416 704
WIRE 3600 704 3600 640
WIRE 624 720 624 544
WIRE 624 720 576 720
WIRE 2512 720 2512 704
WIRE 464 736 416 736
WIRE 1680 736 1680 704
WIRE 2688 736 2688 528
WIRE 2688 736 2624 736
WIRE 3392 752 3328 752
WIRE 3536 752 3472 752
WIRE 2512 768 2512 752
WIRE 2512 768 2416 768
WIRE 4416 768 4368 768
WIRE 4560 768 4560 624
WIRE 4560 768 4496 768
WIRE 4624 768 4560 768
WIRE 4768 768 4704 768
WIRE 5424 768 5376 768
WIRE 5568 768 5568 624
WIRE 5568 768 5504 768
WIRE 5632 768 5568 768
WIRE 5776 768 5712 768
WIRE 512 784 512 768
WIRE 2560 800 2560 784
WIRE 4832 832 4784 832
WIRE 4976 832 4976 640
WIRE 4976 832 4912 832
WIRE 5040 832 4976 832
WIRE 5168 832 5168 624
WIRE 5168 832 5120 832
WIRE 3600 848 3600 800
WIRE 256 880 208 880
WIRE 416 880 416 736
WIRE 416 880 336 880
WIRE 512 880 416 880
WIRE 640 880 592 880
FLAG -2112 592 0
FLAG -2112 368 +Vcc
FLAG 1680 736 0
FLAG 2560 672 +Vcc
FLAG 208 880 +Vcc
FLAG 640 880 0
FLAG 3600 352 +Vcc
FLAG 3600 848 0
FLAG -2016 688 0
FLAG -2016 464 Vmotor
FLAG 3328 752 Vmotor
FLAG 2560 800 0
FLAG -1920 592 0
FLAG -1920 368 Vhall
FLAG 4656 544 +Vcc
FLAG 4656 672 0
FLAG 416 880 Vpot
FLAG 4768 768 0
FLAG 4368 592 Vhall
FLAG 512 656 +Vcc
FLAG 512 784 0
FLAG 528 544 Vpotbuffer
FLAG 2416 768 Vpotbuffer
FLAG 4368 768 Vpotbuffer
FLAG 5056 688 +Vcc
FLAG 5056 560 0
FLAG 4784 832 0
FLAG 5664 544 +Vcc
FLAG 5664 672 0
FLAG 5776 768 0
FLAG 5376 592 Vhall
FLAG 5376 768 Vpotbuffer
SYMBOL voltage -2112 432 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 3.3
SYMBOL cap 1664 576 R0
SYMATTR InstName C1
SYMATTR Value 16n
SYMBOL current 1552 656 R180
WINDOW 0 24 80 Left 2
WINDOW 3 -199 171 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName I1
SYMATTR Value SINE(0 1u 2k 1m)
SYMBOL res 1792 560 R0
SYMATTR InstName R8
SYMATTR Value 100Meg
SYMBOL Op-Amp 2560 736 R0
WINDOW 3 0 0 Left 0
SYMATTR Value LM324
SYMATTR InstName U5
SYMBOL res 352 864 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value {PotB}
SYMBOL res 608 896 M270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R10
SYMATTR Value {PotA}
SYMBOL res 2608 400 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 1.5Meg
SYMBOL cap 2592 512 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 100p
SYMBOL res 3616 544 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R1
SYMATTR Value 40
SYMBOL ind 3616 512 M0
SYMATTR InstName L1
SYMATTR Value 500µ
SYMBOL npn3 3536 704 R0
SYMATTR InstName Q1
SYMATTR Value 2N2222A
SYMBOL res 3488 736 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 1k
SYMBOL voltage -2016 528 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 -134 226 Left 2
SYMATTR Value PULSE(0 3.3 0 10u 10u 1m 2m)
SYMATTR InstName V2
SYMBOL diode 3712 560 M180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL voltage -1920 432 R0
WINDOW 3 -66 216 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value SINE(1.65 1 500)
SYMATTR InstName V3
SYMBOL res 4512 752 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 5k
SYMBOL res 4608 784 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R4
SYMATTR Value 5k
SYMBOL res 4528 576 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 5k
SYMBOL res 4720 400 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 5k
SYMBOL MyCustom\\Op-Amp 4656 608 R0
WINDOW 3 0 0 Left 0
SYMATTR Value LM324
SYMATTR InstName U2
SYMBOL MyCustom\\Op-Amp 512 720 R0
WINDOW 3 0 0 Left 0
SYMATTR Value LM324
SYMATTR InstName U1
SYMBOL MyCustom\\Op-Amp 5056 624 M180
WINDOW 3 0 0 Left 0
SYMATTR Value LM324
SYMATTR InstName U3
SYMBOL res 4928 816 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 4.7k
SYMBOL res 5136 816 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value 15k
SYMBOL res 5520 752 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 4.7k
SYMBOL res 5616 784 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R14
SYMATTR Value 22k
SYMBOL res 5536 576 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R15
SYMATTR Value 4.7k
SYMBOL res 5728 400 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R16
SYMATTR Value 22k
SYMBOL MyCustom\\Op-Amp 5664 608 R0
WINDOW 3 0 0 Left 0
SYMATTR Value LM324
SYMATTR InstName U4
TEXT -2056 888 Left 2 !.tran 0.01
TEXT 1576 384 Left 4 ;Piezo Model
TEXT 2400 296 Left 4 ;Charge Amplifier
TEXT -2736 0 Left 2 !.SUBCKT LM324    1 2 3 4 5\n \n  C1   11 12 5.544E-12\n  C2    6  7 20.00E-12\n  DC    5 53 DX\n  DE   54  5 DX\n  DLP  90 91 DX\n  DLN  92 90 DX\n  DP    4  3 DX\n  EGND 99  0 POLY(2) (3,0) (4,0) 0 .5 .5\n  FB    7 99 POLY(5) VB VC VE VLP VLN 0 15.91E6 -20E6 20E6 20E6 -20E6\n  GA    6  0 11 12 125.7E-6\n  GCM   0  6 10 99 7.067E-9\n  IEE   3 10 DC 10.04E-6\n  HLIM 90  0 VLIM 1K\n  Q1   11  2 13 QX\n  Q2   12  1 14 QX\n  R2    6  9 100.0E3\n  RC1   4 11 7.957E3\n  RC2   4 12 7.957E3\n  RE1  13 10 2.773E3\n  RE2  14 10 2.773E3\n  REE  10 99 19.92E6\n  RO1   8  5 50\n  RO2   7 99 50\n  RP    3  4 30.31E3\n  VB    9  0 DC 0\n  VC 3 53 DC 2.100\n  VE   54  4 DC .6\n  VLIM  7  8 DC 0\n  VLP  91  0 DC 40\n  VLN   0 92 DC 40\n.MODEL DX D(IS=800.0E-18)\n.MODEL QX PNP(IS=800.0E-18 BF=250)\n.ENDS
TEXT 136 256 Left 2 !.param Slide=30
TEXT 136 280 Left 2 !.param PotSize=10k
TEXT 136 328 Left 2 !.param PotA PotSize*Slide/100
TEXT 136 352 Left 2 !.param potB (100-Slide)*PotSize/100
TEXT 128 200 Left 2 ;Charge Bias Potentiometer
TEXT 3352 520 Left 4 ;Motor
TEXT 4552 312 Left 4 ;Hall Amplifier
TEXT 152 968 Left 2 ;LM324 has 20mA of typical output current
TEXT 1376 800 Left 2 ;We dont know the accurate model of our Piezoelectric Model\nwhich is required for determining the gain from amplifier
TEXT 4640 888 Left 2 ;Testing Setup
TEXT 5552 848 Left 2 ;Actual Implementation
